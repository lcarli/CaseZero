@baseUrl = http://localhost:5030/api
@email = admin@casezero.com
@password = CaseZero123!

### Test de connexion (capture le token)
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### Test récupération des utilisateurs (avec token)
GET {{baseUrl}}/users
Authorization: Bearer {{login.response.body.token}}

### Test récupération des affaires
GET {{baseUrl}}/cases
Authorization: Bearer {{login.response.body.token}}

### Test récupération d'une affaire spécifique
GET {{baseUrl}}/cases/1
Authorization: Bearer {{login.response.body.token}}

### Test récupération des preuves d'une affaire
GET {{baseUrl}}/evidence/case/1
Authorization: Bearer {{login.response.body.token}}

### Test récupération des sessions d'une affaire
GET {{baseUrl}}/sessions/case/1
Authorization: Bearer {{login.response.body.token}}

### Test de création de session
POST {{baseUrl}}/sessions
Content-Type: application/json
Authorization: Bearer {{login.response.body.token}}

{
  "caseId": 1,
  "userId": 1,
  "startedAt": "2024-01-20T10:00:00Z",
  "status": 1
}

### Test récupération du cas tutorial
GET {{baseUrl}}/cases/tutorial
Authorization: Bearer {{login.response.body.token}}

### Test récupération des types d'évidence
GET {{baseUrl}}/evidence/types
Authorization: Bearer {{login.response.body.token}}

### Alternative: Test avec token manuel (si la capture automatique ne fonctionne pas)
### Remplacez YOUR_TOKEN_HERE par le token reçu du login
# GET {{baseUrl}}/cases
# Authorization: Bearer YOUR_TOKEN_HERE
